<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • globals</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-SB3EQSD9FR"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SB3EQSD9FR');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">globals</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.16.2-9005</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://www.futureverse.org/" class="external-link">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://doFuture.futureverse.org" class="external-link">doFuture</a>
    </li>
    <li>
      <a href="https://furrr.futureverse.org" class="external-link">furrr</a>
    </li>
    <li>
      <a href="https://future.futureverse.org" class="external-link">future</a>
    </li>
    <li>
      <a href="https://future.apply.futureverse.org" class="external-link">future.apply</a>
    </li>
    <li>
      <a href="https://future.batchtools.futureverse.org" class="external-link">future.batchtools</a>
    </li>
    <li>
      <a href="https://future.callr.futureverse.org" class="external-link">future.callr</a>
    </li>
    <li>
      <a href="https://future.tests.futureverse.org" class="external-link">future.tests</a>
    </li>
    <li>
      <a href="https://globals.futureverse.org">globals</a>
    </li>
    <li>
      <a href="https://listenv.futureverse.org" class="external-link">listenv</a>
    </li>
    <li>
      <a href="https://parallelly.futureverse.org" class="external-link">parallelly</a>
    </li>
    <li>
      <a href="https://progressr.futureverse.org" class="external-link">progressr</a>
    </li>
    <li>
      <a href="https://BiocParallel.FutureParam.futureverse.org" class="external-link">BiocParallel.FutureParam (experimental)</a>
    </li>
    <li>
      <a href="https://future.tools.futureverse.org" class="external-link">future.tools (experimental)</a>
    </li>
    <li>
      <a href="https://future.mirai.futureverse.org" class="external-link">future.mirai (experimental)</a>
    </li>
    <li>
      <a href="https://future.mapreduce.futureverse.org" class="external-link">future.mapreduce (experimental)</a>
    </li>
    <li>
      <a href="https://marshal.futureverse.org" class="external-link">marshal (experimental)</a>
    </li>
  </ul></li>
<li>
  <a href="https://cloud.r-project.org/package=globals" class="external-link">
    <span class="fab fa-r-project"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/HenrikBengtsson/globals/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/HenrikBengtsson/globals/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="development version" id="version-development-version">Version (development version)<a class="anchor" aria-label="anchor" href="#version-development-version"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-development-version">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-development-version"></a></h3>
<ul><li>
<code><a href="../reference/globalsByName.html">globalsByName()</a></code>, and therefore also <code><a href="../reference/globalsOf.html">globalsOf()</a></code>, did not support special arguments <code>..1</code>, <code>..2</code>, etc.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.16.2" id="version-0162-2022-11-21">Version 0.16.2 [2022-11-21]<small>2022-11-21</small><a class="anchor" aria-label="anchor" href="#version-0162-2022-11-21"></a></h2>
<div class="section level3">
<h3 id="documentation-0-16-2">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-16-2"></a></h3>
<ul><li>Drop duplicated arguments from <code><a href="../reference/walkAST.html">help("walkAST")</a></code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.16.1" id="version-0161-2022-08-28">Version 0.16.1 [2022-08-28]<small>2022-08-28</small><a class="anchor" aria-label="anchor" href="#version-0161-2022-08-28"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-16-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-16-1"></a></h3>
<ul><li>
<code><a href="../reference/packagesOf.Globals.html">packagesOf()</a></code> for <code>Globals</code> failed to return the package of the globals if the global doesn’t have a closure, e.g. <code><a href="https://rdrr.io/r/base/Constants.html" class="external-link">base::pi</a></code> and <code>data.table::.N</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.16.0" id="version-0160-2022-08-05">Version 0.16.0 [2022-08-05]<small>2022-08-05</small><a class="anchor" aria-label="anchor" href="#version-0160-2022-08-05"></a></h2>
<div class="section level3">
<h3 id="new-features-0-16-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-16-0"></a></h3>
<ul><li>Add <code>[[&lt;-</code> and <code>[&lt;-</code> for <code>Globals</code>, to complement <code>$&lt;-</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="reproducibility-0-16-0">Reproducibility<a class="anchor" aria-label="anchor" href="#reproducibility-0-16-0"></a></h3>
<ul><li>All functions modifying a <code>Globals</code> object guarantee that the <code>where</code> and the <code>class</code> attributes are always the last two attributes and in that order.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-16-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-16-0"></a></h3>
<ul><li>
<code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> for <code>Globals</code> would lose the <code>where</code> environment for any functions appended.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.15.1" id="version-0151-2022-06-24">Version 0.15.1 [2022-06-24]<small>2022-06-24</small><a class="anchor" aria-label="anchor" href="#version-0151-2022-06-24"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-15-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-15-1"></a></h3>
<ul><li>
<code><a href="../reference/cleanup.Globals.html">cleanup()</a></code> assumed it was safe to call <code>env$.packageName</code> on each scanned environment, but that might not be true. A classed environment could be such that <code>$()</code> gives an error, rather than returning something.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.15.0" id="version-0150-2022-05-08">Version 0.15.0 [2022-05-08]<small>2022-05-09</small><a class="anchor" aria-label="anchor" href="#version-0150-2022-05-08"></a></h2>
<div class="section level3">
<h3 id="new-features-0-15-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-15-0"></a></h3>
<ul><li><p><code><a href="../reference/globalsOf.html">globalsOf()</a></code> gained argument <code>locals</code>, which controls whether globals that exist in “local” environments of a function should be considered or not, e.g. in <code>f &lt;- local({ a &lt;- 1; function() a })</code>, should <code>a</code> be considered a global of <code>f()</code> or not. For backward compatibility reasons, the default is <code>locals = TRUE</code>, but this might become <code>locals = FALSE</code> in a later release.</p></li>
<li><p>Any <code>globals.*</code> options specific to this packages can now be set via environment variables <code>R_GLOBALS_*</code> when the package is loaded. For example, <code>R_GLOBALS_DEBUG=true</code> sets option <code>globals.debug =    TRUE</code>.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-15-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-15-0"></a></h3>
<ul><li>
<code>as.Globals(list(a = NULL))</code> and <code>c(Globals(), list(a = NULL))</code> would include the calling environment instead of an empty environment as part of the <code>where</code> attribute.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.14.0" id="version-0140-2020-11-22">Version 0.14.0 [2020-11-22]<small>2020-11-22</small><a class="anchor" aria-label="anchor" href="#version-0140-2020-11-22"></a></h2>
<div class="section level3">
<h3 id="new-features-0-14-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-14-0"></a></h3>
<ul><li><p>Now <code>findGlobals(function(x) x &lt;- x)</code> identifies <code>x</code> as a global variable.</p></li>
<li><p>Now <code>findGlobals(function(x) x[1] &lt;- 0)</code> identifies <code>x</code> as a global variable. Same for other variants like <code>x[[1]] &lt;- 0</code> and <code>x$a &lt;- 0</code>.</p></li>
<li><p>Now <code>findGlobals(function(z) x &lt;- z$x)</code> identifies <code>x</code> as a global variable.</p></li>
<li><p>Now <code>findGlobals(quote({ f &lt;- function(x) x; x }))</code> identifies <code>x</code> as a global variable. Previously, the <code>x</code> of the function would hide the global <code>x</code>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.13.1" id="version-0131-2020-10-11">Version 0.13.1 [2020-10-11]<small>2020-10-11</small><a class="anchor" aria-label="anchor" href="#version-0131-2020-10-11"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-13-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-13-1"></a></h3>
<ul><li><p><code><a href="../reference/globalsOf.html">globalsOf()</a></code> could produce “Error in vapply(where, FUN = envname, FUN.VALUE = NA_character_, USE.NAMES = FALSE) : values must be length 1, but FUN(X[[2]]) result is length 10”. This would happen if for instance argument <code>envir</code> has attributes set.</p></li>
<li><p><code><a href="../reference/globalsOf.html">findGlobals()</a></code> works around a bug in <code>stats:::[.formula</code> of R (&lt; 4.1.0) that revealed itself when scanning formulas with NULL components.</p></li>
<li><p><code><a href="../reference/globalsOf.html">findGlobals()</a></code> would not pass down argument <code>dotdotdot</code> when recursively parsing assignments.</p></li>
<li><p><code><a href="../reference/globalsOf.html">findGlobals()</a></code> could return <code>...</code> as a global also when used in formulas. Now it respects argument <code>dotdotdot = "ignore"</code> and parses formulas accordingly, otherwise formulas will be parsed using <code>dotdotdot = "return"</code>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.13.0" id="version-0130-2020-09-16">Version 0.13.0 [2020-09-16]<small>2020-09-17</small><a class="anchor" aria-label="anchor" href="#version-0130-2020-09-16"></a></h2>
<div class="section level3">
<h3 id="significant-changes-0-13-0">Significant Changes<a class="anchor" aria-label="anchor" href="#significant-changes-0-13-0"></a></h3>
<ul><li><p><code>findGlobals(expr)</code> now also scans any attributes of <code>expr</code> for globals, e.g. <code><a href="https://purrr.tidyverse.org/reference/partial.html" class="external-link">purrr::partial()</a></code> puts the original function in attribute <code>body</code>. Argument <code>attributes</code> controls which attributes, if any, should be scanned. Default is to scan all attributes.</p></li>
<li><p><code><a href="../reference/globalsOf.html">findGlobals()</a></code>, <code><a href="../reference/globalsOf.html">globalsOf()</a></code>, and <code><a href="../reference/globalsByName.html">globalsByName()</a></code> now recognizes and returns values for <code>..1</code>, <code>..2</code>, etc. like they do for <code>...</code>.</p></li>
<li><p><code><a href="../reference/cleanup.Globals.html">cleanup()</a></code> now also drop exported and non-exported <code>NativeSymbolInfo</code> objects.</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-13-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-13-0"></a></h3>
<ul><li>
<code><a href="../reference/cleanup.Globals.html">cleanup()</a></code> gained support for dropping <code>NativeSymbolInfo</code> objects.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-13-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-13-0"></a></h3>
<ul><li><p><code><a href="../reference/globalsOf.html">findGlobals()</a></code> did not pass down argument <code>method</code> in recursive calls.</p></li>
<li><p><code>findGlobals(expr)</code> would fail to identify globals in anonymous function calls, e.g. <code>expr &lt;- as.call(list(function(...) NOT_FOUND,    quote(FOUND)))</code>.</p></li>
<li><p>Calls like <code>findGlobals(~ NULL)</code> with NULLs on the right-hand side could throw “Error in if (length(ans) == 0L || as.character(ans[[1L]])[1L] ==”~“) { : missing value where TRUE/FALSE needed”. Solved by working around what looks like a bug in the <strong>stats</strong> package causing subsetting on formulas with NULLs to fail.</p></li>
<li><p><code>cleanup(..., drop = c(..., "base-packages"))</code> for <code>Globals</code> would drop base R objects with names not exported by the corresponding base R package. Similarly, <code>drop = c(..., "primitive")</code> would drop primitive R objects with names not exported by any base R package.</p></li>
<li><p><code><a href="../reference/globalsOf.html">findGlobals()</a></code>, <code><a href="../reference/globalsOf.html">globalsOf()</a></code>, and <code><a href="../reference/globalsByName.html">globalsByName()</a></code> did not handle <code>..1</code>, <code>..2</code>, etc.</p></li>
<li><p><code><a href="../reference/globalsOf.html">findGlobals()</a></code> and <code><a href="../reference/globalsOf.html">globalsOf()</a></code> produces warnings on ‘<anonymous>: … may be used in an incorrect context’ when formulas had <code>...</code>, <code>..1</code>, <code>..2</code>, etc.</anonymous></p></li>
<li><p><code>findGlobals(function() NULL, substitute = TRUE, trace = TRUE)</code> would throw “Error in environment(w$enterLocal) : object ‘w’ not found”.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.12.5" id="version-0125-2019-12-07">Version 0.12.5 [2019-12-07]<small>2019-12-07</small><a class="anchor" aria-label="anchor" href="#version-0125-2019-12-07"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-12-5">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-12-5"></a></h3>
<ul><li>
<code>findGlobals(function() { a; a &lt;- a + 1 })</code> would fail to identify <code>a</code> as a global variable whereas it was properly identified with <code>{    a &lt;- a + 1; a }</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.12.4" id="version-0124-2018-10-11">Version 0.12.4 [2018-10-11]<small>2018-10-11</small><a class="anchor" aria-label="anchor" href="#version-0124-2018-10-11"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-12-4">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-12-4"></a></h3>
<ul><li>
<code><a href="../reference/globalsOf.html">globalsOf()</a></code> could produce “Error in vapply(where, FUN = envname, FUN.VALUE = NA_character_, USE.NAMES = FALSE) : values must be length 1, but FUN(X[[…]]) result is length …”. This was because the internal <code>envname(env)</code> did not always handle when <code>class(env) != "environment"</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.12.3" id="version-0123-2018-09-16">Version 0.12.3 [2018-09-16]<small>2018-09-17</small><a class="anchor" aria-label="anchor" href="#version-0123-2018-09-16"></a></h2>
<div class="section level3">
<h3 id="new-features-0-12-3">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-12-3"></a></h3>
<ul><li>
<code><a href="../reference/globalsOf.html">findGlobals()</a></code>, <code><a href="../reference/globalsOf.html">globalsOf()</a></code>, and <code><a href="../reference/packagesOf.Globals.html">packagesOf()</a></code> no longer return elements sorted by name.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-12-3">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-12-3"></a></h3>
<ul><li>globals::<code><a href="../reference/globalsOf.html">findGlobals()</a></code> would not identify <code>a</code> as a global in expressions of type <code>a[1] = ...</code> and <code>names(a) = ...</code> although it did for <code>a[1] &lt;- ...</code> and <code>names(a) &lt;- ...</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.12.2" id="version-0122-2018-08-25">Version 0.12.2 [2018-08-25]<small>2018-08-25</small><a class="anchor" aria-label="anchor" href="#version-0122-2018-08-25"></a></h2>
<div class="section level3">
<h3 id="performance-0-12-2">Performance<a class="anchor" aria-label="anchor" href="#performance-0-12-2"></a></h3>
<ul><li>
<code><a href="../reference/cleanup.Globals.html">cleanup()</a></code> for <code>Globals</code> should now be much faster. Previously, it could be very slow the first time it was called in a fresh R session, especially if the user had a large number of packages installed and/or the package libraries were on slow drives.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-12-2">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-12-2"></a></h3>
<ul><li>Added help for <code><a href="../reference/globalsOf.html">globals::findGlobals()</a></code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-12-2">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-12-2"></a></h3>
<ul><li><p><code>globals::findGlobals(x)</code>, where <code>x</code> is a list, iterated over <code>x</code> incorrectly assuming no method dispatching on <code>x</code> would take place. For instance, if <code>x</code> contained an <code>fst::fst_table</code> object, then “Error in .subset2(x, i, exact = exact) : subscript out of bounds” would be produced.</p></li>
<li><p>globals::<code><a href="../reference/globalsOf.html">findGlobals()</a></code> could produce a “Warning in is.na(x): is.na() applied to non-(list or vector) of type ‘NULL’” in R (&lt; 3.5.0).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.12.1" id="version-0121-2018-06-24">Version 0.12.1 [2018-06-24]<small>2018-06-25</small><a class="anchor" aria-label="anchor" href="#version-0121-2018-06-24"></a></h2>
<div class="section level3">
<h3 id="performance-0-12-1">Performance<a class="anchor" aria-label="anchor" href="#performance-0-12-1"></a></h3>
<ul><li>globals::<code><a href="../reference/globalsOf.html">findGlobals()</a></code> is now significantly faster for elements that are long lists with many elements of basic data types. This is because elements of such basic data type cannot contain globals and can therefore be skipped early in the search for globals.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.12.0" id="version-0120-2018-06-12">Version 0.12.0 [2018-06-12]<small>2018-06-12</small><a class="anchor" aria-label="anchor" href="#version-0120-2018-06-12"></a></h2>
<div class="section level3">
<h3 id="new-features-0-12-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-12-0"></a></h3>
<ul><li>Now globals::<code><a href="../reference/globalsOf.html">findGlobals()</a></code> identifies <code>a</code> as a global also when it is part of LHS expressions of type <code>a[1] &lt;- ...</code> and <code>names(a)    &lt;- ...</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-12-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-12-0"></a></h3>
<ul><li><p>globals::<code><a href="../reference/globalsOf.html">findGlobals()</a></code> incorrectly identified <code>a</code> as a global in expression of type <code>a &lt;- pkg::a</code>.</p></li>
<li><p>If <code>...</code> was passed to <code>globalsByName(names)</code>, an error would be produced unless it was the last entry in <code>names</code>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.11.0" id="version-0110-2018-01-09">Version 0.11.0 [2018-01-09]<small>2018-01-10</small><a class="anchor" aria-label="anchor" href="#version-0110-2018-01-09"></a></h2>
<div class="section level3">
<h3 id="new-features-0-11-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-11-0"></a></h3>
<ul><li>Now <code><a href="../reference/globalsOf.html">findGlobals()</a></code> identifies <code>x</code> as a global variable in <code>x &lt;- x + 1</code> and likewise for <code>x + 1 -&gt; x</code>. Note that ditto using <code>&lt;&lt;-</code> and <code>-&gt;&gt;</code> was already identifying <code>x</code> as a global.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-11-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-11-0"></a></h3>
<ul><li>
<code>findGlobals(..., trace = TRUE)</code> now outputs only to standard error. Previously, some of the output went to standard output.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.10.3" id="version-0103-2017-10-12">Version 0.10.3 [2017-10-12]<small>2017-10-13</small><a class="anchor" aria-label="anchor" href="#version-0103-2017-10-12"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-10-3">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-10-3"></a></h3>
<ul><li>
<code>globalsOf(..., recursive = TRUE)</code> would result in “Error in match.fun(FUN) : node stack overflow” if one of the globals identified was a function that called itself recursively (either directly or indirectly).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.10.2" id="version-0102-2017-08-08">Version 0.10.2 [2017-08-08]<small>2017-08-08</small><a class="anchor" aria-label="anchor" href="#version-0102-2017-08-08"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-10-2">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-10-2"></a></h3>
<ul><li>
<code><a href="../reference/walkAST.html">walkAST()</a></code> could produce error “Cannot walk expression. Unknown object type ‘…’” for objects of type <code>environment</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.10.1" id="version-0101-2017-07-01">Version 0.10.1 [2017-07-01]<small>2017-07-02</small><a class="anchor" aria-label="anchor" href="#version-0101-2017-07-01"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-10-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-10-1"></a></h3>
<ul><li>
<code><a href="../reference/walkAST.html">walkAST()</a></code> could produce error “Cannot walk expression. Unknown object type ‘…’” for objects of type <code>list</code>, <code>expression</code> and <code>S4</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.10.0" id="version-0100-2017-04-16">Version 0.10.0 [2017-04-16]<small>2017-04-17</small><a class="anchor" aria-label="anchor" href="#version-0100-2017-04-16"></a></h2>
<div class="section level3">
<h3 id="new-features-0-10-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-10-0"></a></h3>
<ul><li><p>Globals that are part of a formula are now identified.</p></li>
<li><p><code>findGlobals(..., trace = TRUE)</code> will now show low-level parse information as the abstract syntax tree (AST) is walked.</p></li>
</ul><p>SOFTWARE QUALITY:</p>
<ul><li>Enabled more internal sanity checks.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-10-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-10-0"></a></h3>
<ul><li>
<code><a href="../reference/walkAST.html">walkAST()</a></code> could produce error “Cannot walk expression. Unknown object type ‘nnn’” for expressions of type <code>builtin</code>, <code>closure</code> and <code>special</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9.0" id="version-090-2017-03-09">Version 0.9.0 [2017-03-09]<small>2017-03-10</small><a class="anchor" aria-label="anchor" href="#version-090-2017-03-09"></a></h2>
<div class="section level3">
<h3 id="new-features-0-9-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-9-0"></a></h3>
<ul><li>Added option <code>globals.debug</code>, which when TRUE enables debugging output.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-9-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-0"></a></h3>
<ul><li><p><code>globalsOf(..., recursive = TRUE)</code> would in some cases scan an incorrect subset of already identified globals.</p></li>
<li><p><code>globalsOf(..., recursive = TRUE)</code> failed to skip objects part of package namespaces that where defined via a <code><a href="https://rdrr.io/r/base/eval.html" class="external-link">local()</a></code> statement.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.0" id="version-080-2017-01-14">Version 0.8.0 [2017-01-14]<small>2017-01-16</small><a class="anchor" aria-label="anchor" href="#version-080-2017-01-14"></a></h2>
<div class="section level3">
<h3 id="new-features-0-8-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-8-0"></a></h3>
<ul><li><p><code><a href="../reference/globalsOf.html">globalsOf()</a></code> identifies also globals in locally defined functions. This can be disabled with argument <code>recursive =    FALSE</code>.</p></li>
<li><p><code><a href="../reference/globalsOf.html">findGlobals()</a></code> now takes both closures (functions) and expressions.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.2" id="version-072-2016-12-28">Version 0.7.2 [2016-12-28]<small>2017-01-09</small><a class="anchor" aria-label="anchor" href="#version-072-2016-12-28"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-7-2">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-2"></a></h3>
<ul><li>
<code>c(x, list())</code> where <code>x</code> is a <code>Globals</code> object would give an error reporting that the list does not have named elements.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.1" id="version-071-2016-10-13">Version 0.7.1 [2016-10-13]<small>2016-10-14</small><a class="anchor" aria-label="anchor" href="#version-071-2016-10-13"></a></h2>
<div class="section level3">
<h3 id="new-features-0-7-1">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-7-1"></a></h3>
<ul><li>
<code><a href="../reference/Globals.html">Globals()</a></code> and <code><a href="../reference/Globals.html">as.Globals()</a></code> now accepts an empty list as input as well.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-7-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-1"></a></h3>
<ul><li>
<code>walkAST(quote( function(x=NULL) 0 ))</code> would give a sanity check error due to the NULL argument. Thank you GitHub user ‘billy34’ for reporting on this.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.0" id="version-070-2016-09-08">Version 0.7.0 [2016-09-08]<small>2016-09-09</small><a class="anchor" aria-label="anchor" href="#version-070-2016-09-08"></a></h2>
<div class="section level3">
<h3 id="new-features-0-7-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-7-0"></a></h3>
<ul><li><p>Added <code><a href="../reference/walkAST.html">walkAST()</a></code>, which can be used to tweak expressions.</p></li>
<li><p>Added <code><a href="../reference/globalsByName.html">globalsByName()</a></code> for locating and retrieving a set of known global variables.</p></li>
<li><p>Added <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>, <code>$&lt;-()</code>, <code><a href="../reference/Globals.html">names()</a></code>, <code><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique()</a></code> for <code>Globals</code> objects.</p></li>
<li><p>Improved <code><a href="../reference/Globals.html">as.Globals()</a></code> for lists.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6.1" id="version-061-2016-01-31">Version 0.6.1 [2016-01-31]<small>2016-02-03</small><a class="anchor" aria-label="anchor" href="#version-061-2016-01-31"></a></h2>
<div class="section level3">
<h3 id="new-features-0-6-1">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-6-1"></a></h3>
<ul><li>Now the error message of <code>globalsOf(..., mustExist = TRUE)</code> when it fails to locate a global also gives information on the expression that is problematic.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-6-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-6-1"></a></h3>
<ul><li>
<code><a href="../reference/cleanup.Globals.html">cleanup()</a></code> for <code>Globals</code> did not cleanup functions in core package environments named <code>package:&lt;name&gt;</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6.0" id="version-060-2015-12-12">Version 0.6.0 [2015-12-12]<small>2015-12-12</small><a class="anchor" aria-label="anchor" href="#version-060-2015-12-12"></a></h2>
<div class="section level3">
<h3 id="new-features-0-6-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-6-0"></a></h3>
<ul><li>
<code><a href="../reference/globalsOf.html">findGlobals()</a></code> is updated to handle the case where a local variable is overwriting a global one with the same name, e.g. <code>{ a    &lt;- b; b &lt;- 1 }</code>. Now <code>b</code> is correctly identified as a global object. Previously it would have been missed. For backward compatibility, the previous behavior can be obtained using argument <code>method = "conservative"</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.0" id="version-050-2015-10-13">Version 0.5.0 [2015-10-13]<small>2015-10-14</small><a class="anchor" aria-label="anchor" href="#version-050-2015-10-13"></a></h2>
<div class="section level3">
<h3 id="new-features-0-5-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-5-0"></a></h3>
<ul><li>
<code><a href="../reference/globalsOf.html">globalsOf()</a></code> now returns attribute <code>where</code> specifying where each global object is located.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-5-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-5-0"></a></h3>
<ul><li>
<code><a href="../reference/cleanup.Globals.html">cleanup()</a></code> now only drops objects that are <em>located</em> in one of the “base” packages; previously it would also drop copies of such objects, e.g. <code>FUN &lt;- base::sample</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.1" id="version-041-2015-10-05">Version 0.4.1 [2015-10-05]<small>2015-10-06</small><a class="anchor" aria-label="anchor" href="#version-041-2015-10-05"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-4-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-1"></a></h3>
<ul><li>
<code><a href="../reference/globalsOf.html">globalsOf()</a></code> failed to return global variables with value NULL. They were identified but silently dropped.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.0" id="version-040-2015-09-12">Version 0.4.0 [2015-09-12]<small>2015-09-18</small><a class="anchor" aria-label="anchor" href="#version-040-2015-09-12"></a></h2>
<div class="section level3">
<h3 id="new-features-0-4-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-4-0"></a></h3>
<ul><li>
<code><a href="../reference/globalsOf.html">findGlobals()</a></code> and <code><a href="../reference/globalsOf.html">globalsOf()</a></code> gained argument <code>dotdotdot</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.1" id="version-031-2015-06-10">Version 0.3.1 [2015-06-10]<small>2015-06-11</small><a class="anchor" aria-label="anchor" href="#version-031-2015-06-10"></a></h2>
<ul><li>More test coverage.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.0" id="version-030-2015-06-08">Version 0.3.0 [2015-06-08]<a class="anchor" aria-label="anchor" href="#version-030-2015-06-08"></a></h2>
<div class="section level3">
<h3 id="new-features-0-3-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-3-0"></a></h3>
<ul><li>Renamed <code>getGlobals()</code> to <code><a href="../reference/globalsOf.html">globalsOf()</a></code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.3" id="version-023-2015-06-08">Version 0.2.3 [2015-06-08]<a class="anchor" aria-label="anchor" href="#version-023-2015-06-08"></a></h2>
<div class="section level3">
<h3 id="new-features-0-2-3">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-2-3"></a></h3>
<ul><li><p>Added <code>[()</code> for <code>Globals</code>.</p></li>
<li><p><code><a href="../reference/globalsOf.html">findGlobals()</a></code> and <code>getGlobals()</code> gained argument <code>substitute</code>.</p></li>
<li><p>Added <code>cleanup(..., method = "internals")</code>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.2" id="version-022-2015-05-20">Version 0.2.2 [2015-05-20]<a class="anchor" aria-label="anchor" href="#version-022-2015-05-20"></a></h2>
<div class="section level3">
<h3 id="new-features-0-2-2">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-2-2"></a></h3>
<ul><li><p>Added <code>Globals</code> class with methods <code><a href="../reference/cleanup.Globals.html">cleanup()</a></code> and <code><a href="../reference/packagesOf.Globals.html">packagesOf()</a></code>.</p></li>
<li><p>Added <code><a href="../reference/Globals.html">as.Globals()</a></code> to coerce lists to <code>Globals</code> objects.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.1" id="version-021-2015-05-20">Version 0.2.1 [2015-05-20]<a class="anchor" aria-label="anchor" href="#version-021-2015-05-20"></a></h2>
<div class="section level3">
<h3 id="new-features-0-2-1">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-2-1"></a></h3>
<ul><li><p><code>getGlobals()</code> gained argument <code>mustExist</code> for controlling whether to give an error when the corresponding object for an identified global cannot be found or to silently drop the missing global.</p></li>
<li><p><code><a href="../reference/globalsOf.html">findGlobals()</a></code> and <code>getGlobals()</code> gained argument <code>method</code> for controlling whether a <code>"conservative"</code> or a <code>"liberal"</code> algorithm for identifying true globals should be used.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="version-020-2015-05-19">Version 0.2.0 [2015-05-19]<a class="anchor" aria-label="anchor" href="#version-020-2015-05-19"></a></h2>
<ul><li>Moved “globals” functions from an in-house package to this package.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.0" id="version-010-2015-02-07">Version 0.1.0 [2015-02-07]<a class="anchor" aria-label="anchor" href="#version-010-2015-02-07"></a></h2>
<ul><li>Created.</li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Henrik Bengtsson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'aa6e02fc501886fb0f7c91ac4e300456',
    indexName: 'futureverse',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

